@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* src/app/globals.css */

/* 这是所有数字格子共享的样式 */
.digit-sprite {
  /* 【核心修复】移除 background-image，我们将在组件中动态设置它 */
  background-repeat: no-repeat;
  
  --sprite-scale: calc(var(--block-size) * 1.2 / 24px);

  width: calc(14px * var(--sprite-scale));
  height: calc(24px * var(--sprite-scale));

  background-size: calc(400px * var(--sprite-scale)) calc(186px * var(--sprite-scale));
}

.digit-0 { --x-pos: -75px; --y-pos: -25px; }
.digit-1 { --x-pos: -89px; --y-pos: -25px; }
.digit-2 { --x-pos: -103px; --y-pos: -25px; }
.digit-3 { --x-pos: -117px; --y-pos: -25px; }
.digit-4 { --x-pos: -131px; --y-pos: -25px; }
.digit-5 { --x-pos: -145px; --y-pos: -25px; }
.digit-6 { --x-pos: -159px; --y-pos: -25px; }
.digit-7 { --x-pos: -173px; --y-pos: -25px; }
.digit-8 { --x-pos: -187px; --y-pos: -25px; }
.digit-9 { --x-pos: -201px; --y-pos: -25px; }
.digit-n { --x-pos: -215px; --y-pos: -25px; }
.digit-d { --x-pos: -243px; --y-pos: -25px; }
.digit-d_c { --x-pos: -229px; --y-pos: -25px; }

[class^="digit-"] {
  background-position: calc(var(--x-pos) * var(--sprite-scale)) calc(var(--y-pos) * var(--sprite-scale));
}

/* 新增 Welcome 组件的样式 */
.dragon-sprite {
  /* 【核心修复】移除 background-image */
  background-repeat: no-repeat;
  --sprite-scale: calc(var(--block-size) * 4 / 80px); /* 80px 是原始龙的宽度 */

  background-size: calc(400px * var(--sprite-scale)) calc(186px * var(--sprite-scale));
}

.dragon-sprite.r1, .dragon-sprite.l1 {
  background-position: calc(0px * var(--sprite-scale)) calc(-100px * var(--sprite-scale));
}
.dragon-sprite.r2, .dragon-sprite.l2 {
  background-position: calc(-100px * var(--sprite-scale)) calc(-100px * var(--sprite-scale));
}
.dragon-sprite.r3, .dragon-sprite.l3 {
  background-position: calc(-200px * var(--sprite-scale)) calc(-100px * var(--sprite-scale));
}
.dragon-sprite.r4, .dragon-sprite.l4 {
  background-position: calc(-300px * var(--sprite-scale)) calc(-100px * var(--sprite-scale));
}
.dragon-sprite.l1, .dragon-sprite.l2, .dragon-sprite.l3, .dragon-sprite.l4 {
  transform: scaleX(-1);
}

/* --- 新增 Music 和 PauseIndicator 的样式 --- */
.music-sprite, .pause-sprite {
  /* 【核心修复】移除 background-image */
  background-repeat: no-repeat;
  --sprite-scale: calc(var(--block-size) * 1.2 / 24px);
  background-size: calc(400px * var(--sprite-scale)) calc(186px * var(--sprite-scale));
}

.music-sprite {
  width: calc(25px * var(--sprite-scale));
  height: calc(21px * var(--sprite-scale));
}

.music-on {
  background-position: calc(-175px * var(--sprite-scale)) calc(-75px * var(--sprite-scale));
}

.music-off {
  background-position: calc(-150px * var(--sprite-scale)) calc(-75px * var(--sprite-scale));
}

.pause-sprite {
  width: calc(20px * var(--sprite-scale));
  height: calc(18px * var(--sprite-scale));
  transition: opacity 150ms ease-in-out; /* 为闪烁增加过渡效果 */
}

.pause-on {
  background-position: calc(-75px * var(--sprite-scale)) calc(-75px * var(--sprite-scale));
}

.pause-off {
  background-position: calc(-100px * var(--sprite-scale)) calc(-75px * var(--sprite-scale));
}